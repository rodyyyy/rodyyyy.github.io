---
layout: post
author: Chris Rody
title: mybatis的简单记录
---

mybatis简要记录

## mybatis宝典

##### 1，mybatis执行流程图

![mybatis](https://github.com/rodyyyy/rodyyyy.github.io/raw/master/images/mybatis流程1.png)

![mybaa](https://github.com/rodyyyy/rodyyyy.github.io/raw/master/images/mybatis流程2.png)

##### 2，具体简单代码

``` java
//创建SqlSessionFactoryBuilder对象
		SqlSessionFactoryBuilder ssb=new SqlSessionFactoryBuilder();
		//创建核心配置文件的输入流
		InputStream inputStream = Resources.getResourceAsStream("SqlMapConfig.xml");
		//通过输入流创建SqlSessionFactory对象
		SqlSessionFactory sqlSessionFactory = ssb.build(inputStream);
		//通过openSession（），创建SqlSession对象
		SqlSession sqlSession = sqlSessionFactory.openSession();
		//执行查询
		User user = sqlSession.selectOne("getUserById",1);
		//输出结果
		System.out.println(user);
		//释放资源
		sqlSession.close();
```

##### 3,流程原理阐述

>SqlSessionFactoryBuilder通过类名就可以看出这个类的主要作用就是创建一个SqlSessionFactory
>
>通过输入mybatis配置文件的字节流或者字符流，生成XMLConfigBuilder
>
>XMLConfigBuilder创建一个Configuration，Configuration这个类中包含了mybatis的配置的一切信
>
>mybatis进行的所有操作都需要根据Configuration中的信息来进行